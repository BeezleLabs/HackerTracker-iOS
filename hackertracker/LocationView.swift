//
//  LocationView.swift
//  hackertracker
//
//  Created by Seth W Law on 7/26/22.
//  Copyright Â© 2022 Beezle Labs. All rights reserved.
//

import Foundation
import SwiftUI
import UIKit

struct LocationView: View {
    var locations: [HTLocationModel]

    var body: some View {
        VStack {
            Text("Locations")
            ScrollView {
                ForEach(heirLocs(locations: locations).filter { $0.hierDepth == 1 }) { loc in
                    LocationCell(location: loc)
                }
            }
        }
    }
}

struct LocationCell: View {
    var location: LocationContainer

    var body: some View {
        VStack {
            Text(location.shortName)
            ForEach(heirLocDisplay(locations: location.children, heirDepth: location.hierDepth + 1, parentId: location.id)) { loc in
                LocationCell(location: loc)
            }
        }
    }
}

struct LocationContainer: Identifiable {
    var id: Int
    var conferenceId: Int
    var conferenceName: String
    var name: String
    var hotel: String
    var defaultStatus: String
    var schedule: [HTSchedule]
    var hierExtentLeft: Int
    var hierExtentRight: Int
    var hierDepth: Int
    var parentId: Int
    var peerSortOrder: Int
    var shortName: String
    var children: [LocationContainer]
}

func heirLocs(locations: [HTLocationModel]) -> [LocationContainer] {
    let locContainer = locations.sorted { $0.hierDepth < $1.hierDepth }.map { loc -> LocationContainer in LocationContainer(id: loc.id, conferenceId: loc.conferenceId, conferenceName: loc.conferenceName, name: loc.name, hotel: loc.hotel, defaultStatus: loc.defaultStatus, schedule: loc.schedule, hierExtentLeft: loc.hierExtentLeft, hierExtentRight: loc.hierExtentRight, hierDepth: loc.hierDepth, parentId: loc.parentId, peerSortOrder: loc.parentId, shortName: loc.shortName, children: []) }

    let heirDict = locContainer.reduce(into: [Int: [LocationContainer]]()) { hDict, loc in hDict[loc.hierDepth] = locContainer.filter { $0.hierDepth == loc.hierDepth }.sorted { $0.peerSortOrder > $1.peerSortOrder }}

    let heirLoc = locContainer.map { loc -> LocationContainer in LocationContainer(id: loc.id, conferenceId: loc.conferenceId, conferenceName: loc.conferenceName, name: loc.name, hotel: loc.hotel, defaultStatus: loc.defaultStatus, schedule: loc.schedule, hierExtentLeft: loc.hierExtentLeft, hierExtentRight: loc.hierExtentRight, hierDepth: loc.hierDepth, parentId: loc.parentId, peerSortOrder: loc.parentId, shortName: loc.shortName,
                                                                                   children: heirDict[loc.hierDepth + 1]?.filter { $0.parentId == loc.id } ?? []) }.sorted { $0.hierExtentLeft < $1.hierExtentLeft }
    return heirLoc
}

func heirLocDisplay(locations: [LocationContainer], heirDepth: Int, parentId: Int) -> [LocationContainer] {
    return locations.filter { $0.hierDepth == heirDepth && $0.parentId == parentId }.sorted { $0.hierExtentLeft < $1.hierExtentLeft }
}

struct LocationView_Previews: PreviewProvider {
    static var previews: some View {
        LocationView(locations: getMockData() ?? [])
    }
}

class LocationUIView: UIViewController {
    var locationsToken: UpdateToken?
    var locations: [HTLocationModel] = []

    override func viewDidLoad() {
        super.viewDidLoad()
        NSLog("LocationUIView viewDidLoad")
        loadLocations()
    }

    override func viewDidAppear(_ animated: Bool) {
        let lvc = UIHostingController(rootView: LocationView(locations: locations))

        super.viewDidAppear(animated)
        NSLog("LocationUIView viewDidAppear")
        addChild(lvc)

        view.addSubview(lvc.view)
        lvc.view.translatesAutoresizingMaskIntoConstraints = false
        lvc.view.topAnchor.constraint(equalTo: view.topAnchor).isActive = true
        lvc.view.rightAnchor.constraint(equalTo: view.rightAnchor).isActive = true
        lvc.view.bottomAnchor.constraint(equalTo: view.bottomAnchor).isActive = true
        lvc.view.leftAnchor.constraint(equalTo: view.leftAnchor).isActive = true

        lvc.view.backgroundColor = UIColor(red: 45.0 / 255.0, green: 45.0 / 255.0, blue: 45.0 / 255.0, alpha: 1.0)
    }

    required init?(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
    }

    func loadLocations() {
        locationsToken = FSConferenceDataController.shared.requestLocations(forConference: AnonymousSession.shared.currentConference) { result in
            switch result {
            case let .success(locationList):
                self.locations = locationList
                self.viewDidAppear(true)
            case let .failure(error):
                NSLog("Load Locations Failure: \(error.localizedDescription)")
            }
        }
    }
}

extension HTLocationModel {
    enum CodingKeys: String, CodingKey {
        case id
        case conferenceId = "conference_id"
        case conferenceName = "conference"
        case name
        case hotel
        case defaultStatus = "default_status"
        case schedule
        case hierExtentLeft = "hier_extent_left"
        case hierExtentRight = "hier_extent_right"
        case hierDepth = "hier_depth"
        case parentId = "parent_id"
        case peerSortOrder = "peer_sort_order"
        case shortName = "short_name"
    }
}

func getMockData() -> [HTLocationModel]? {
    let jsonData = #"""
    [{"schedule":[],"hier_depth":1,"id":45329,"updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","name":"Other/See Description","hier_extent_right":202,"peer_sort_order":12,"default_status":"","hotel":"","short_name":"Other/See Description","hier_extent_left":201,"conference_id":65,"parent_id":0},{"hotel":"","hier_extent_left":7,"peer_sort_order":4,"updated_at":"2022-08-02T06:12+0000","short_name":"104-105, 135-136 (Track 1)","conference":"DEFCON30","id":45372,"parent_id":45435,"hier_depth":3,"name":"Caesars Forum - Forum 104-105, 135-136 (Track 1)","schedule":[],"hier_extent_right":8,"default_status":"","conference_id":65},{"parent_id":45435,"hotel":"","id":45373,"schedule":[],"conference_id":65,"updated_at":"2022-08-02T06:12+0000","short_name":"106-110, 138-139 (Track 2)","conference":"DEFCON30","name":"Caesars Forum - Forum 106-110, 138-139 (Track 2)","hier_depth":3,"default_status":"","hier_extent_left":13,"hier_extent_right":14,"peer_sort_order":10},{"hier_depth":3,"parent_id":45433,"peer_sort_order":2,"hier_extent_left":77,"short_name":"401-410, 421 (Track 3)","hier_extent_right":78,"conference":"DEFCON30","hotel":"","schedule":[],"updated_at":"2022-08-02T06:12+0000","name":"Caesars Forum - Academy 401-410, 421 (Track 3)","default_status":"","id":45374,"conference_id":65},{"hier_depth":3,"short_name":"301-309, 321 (Track 4)","parent_id":45434,"updated_at":"2022-08-02T06:12+0000","hotel":"","schedule":[],"name":"Caesars Forum - Alliance 301-309, 321 (Track 4)","id":45375,"conference_id":65,"hier_extent_left":65,"default_status":"","hier_extent_right":66,"peer_sort_order":2,"conference":"DEFCON30"},{"schedule":[],"peer_sort_order":8,"hotel":"","id":45376,"updated_at":"2022-08-02T06:12+0000","conference_id":65,"hier_depth":3,"parent_id":45435,"default_status":"","name":"Caesars Forum - Forum 104-110, 135-136, 138-139 (Tracks 1+2)","conference":"DEFCON30","hier_extent_right":12,"short_name":"104-110, 135-136, 138-139 (Tracks 1+2)","hier_extent_left":11},{"hier_extent_right":185,"peer_sort_order":6,"updated_at":"2022-08-02T06:12+0000","conference_id":65,"default_status":"","hier_depth":2,"name":"LINQ - Pool","parent_id":45438,"id":45382,"hotel":"","conference":"DEFCON30","short_name":"Pool","hier_extent_left":184,"schedule":[]},{"hier_extent_left":150,"updated_at":"2022-08-02T06:12+0000","parent_id":45437,"name":"Flamingo - Bird Bar","schedule":[],"conference":"DEFCON30","hotel":"","short_name":"Bird Bar","id":45383,"conference_id":65,"hier_depth":2,"default_status":"","hier_extent_right":151,"peer_sort_order":6},{"parent_id":45439,"peer_sort_order":16,"hier_extent_right":169,"hier_depth":2,"default_status":"","name":"Harrah's - Parlor D & The Veranda (Meetup)","schedule":[],"conference_id":65,"updated_at":"2022-08-02T06:12+0000","hier_extent_left":168,"id":45384,"conference":"DEFCON30","hotel":"","short_name":"Parlor D & The Veranda (Meetup)"},{"updated_at":"2022-08-02T06:12+0000","hier_depth":3,"conference_id":65,"parent_id":45435,"hotel":"","peer_sort_order":28,"name":"Caesars Forum - Forum 133 (Karaoke/Chess)","hier_extent_right":32,"schedule":[],"id":45385,"conference":"DEFCON30","default_status":"","hier_extent_left":31,"short_name":"133 (Karaoke/Chess)"},{"short_name":"108-110","hier_depth":3,"hier_extent_left":17,"name":"Caesars Forum - Forum 108-110","peer_sort_order":14,"parent_id":45435,"updated_at":"2022-08-02T06:12+0000","default_status":"","schedule":[],"conference_id":65,"id":45386,"conference":"DEFCON30","hier_extent_right":18,"hotel":""},{"conference_id":65,"default_status":"","hotel":"","name":"Caesars Forum - Forum 106, 139","hier_extent_left":15,"peer_sort_order":12,"hier_depth":3,"parent_id":45435,"short_name":"106, 139","hier_extent_right":16,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","schedule":[],"id":45387},{"conference_id":65,"hier_extent_left":9,"short_name":"104-105, 136","schedule":[],"default_status":"","hier_extent_right":10,"updated_at":"2022-08-02T06:12+0000","parent_id":45435,"hier_depth":3,"name":"Caesars Forum - Forum 104-105, 136","hotel":"","conference":"DEFCON30","peer_sort_order":6,"id":45388},{"schedule":[],"hier_extent_right":20,"name":"Caesars Forum - Forum 109-110","parent_id":45435,"peer_sort_order":16,"conference_id":65,"hier_extent_left":19,"id":45389,"hotel":"","updated_at":"2022-08-02T06:12+0000","hier_depth":3,"default_status":"","conference":"DEFCON30","short_name":"109-110"},{"hier_extent_left":21,"peer_sort_order":18,"hier_depth":3,"default_status":"","id":45390,"name":"Caesars Forum - Forum 110","hotel":"","conference_id":65,"schedule":[],"hier_extent_right":22,"parent_id":45435,"conference":"DEFCON30","short_name":"110","updated_at":"2022-08-02T06:12+0000"},{"short_name":"409","hier_extent_left":81,"hier_extent_right":82,"peer_sort_order":6,"name":"Caesars Forum - Academy 409","parent_id":45433,"default_status":"","conference_id":65,"updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","schedule":[],"hier_depth":3,"id":45391,"hotel":""},{"hotel":"","id":45392,"conference_id":65,"updated_at":"2022-08-02T06:12+0000","short_name":"410","conference":"DEFCON30","hier_extent_right":84,"default_status":"","hier_depth":3,"peer_sort_order":8,"parent_id":45433,"name":"Caesars Forum - Academy 410","schedule":[],"hier_extent_left":83},{"schedule":[],"default_status":"","short_name":"Society Boardroom (Demo Labs)","conference":"DEFCON30","id":45393,"hier_extent_left":99,"conference_id":65,"hotel":"","hier_extent_right":100,"name":"Caesars Forum - Society Boardroom (Demo Labs)","parent_id":45441,"updated_at":"2022-08-02T06:12+0000","peer_sort_order":12,"hier_depth":3},{"short_name":"Unity Boardroom","name":"Caesars Forum - Unity Boardroom","conference_id":65,"hier_extent_right":102,"hier_extent_left":101,"hier_depth":3,"default_status":"","parent_id":45441,"hotel":"","schedule":[],"updated_at":"2022-08-02T06:12+0000","peer_sort_order":14,"id":45394,"conference":"DEFCON30"},{"peer_sort_order":2,"conference_id":65,"schedule":[],"conference":"DEFCON30","id":45395,"updated_at":"2022-08-02T06:12+0000","hier_extent_left":89,"parent_id":45441,"name":"Caesars Forum - Accord Boardroom (Demo Labs)","hotel":"","default_status":"","short_name":"Accord Boardroom (Demo Labs)","hier_extent_right":90,"hier_depth":3},{"hotel":"","parent_id":45441,"peer_sort_order":6,"updated_at":"2022-08-02T06:12+0000","default_status":"","conference_id":65,"hier_extent_left":93,"hier_depth":3,"conference":"DEFCON30","schedule":[],"hier_extent_right":94,"name":"Caesars Forum - Caucus & Society Boardrooms (Demo Labs)","id":45396,"short_name":"Caucus & Society Boardrooms (Demo Labs)"},{"id":45397,"parent_id":45435,"name":"Caesars Forum - Forum 120-123, 129, 137 (Chillout)","hier_extent_right":26,"peer_sort_order":22,"short_name":"120-123, 129, 137 (Chillout)","default_status":"","hier_depth":3,"schedule":[],"hier_extent_left":25,"conference_id":65,"updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","hotel":""},{"hier_extent_right":120,"parent_id":45445,"short_name":"Savoy Ballroom (Blue Team Village)","hier_extent_left":113,"id":45398,"hier_depth":3,"name":"Flamingo - Savoy Ballroom (Blue Team Village)","default_status":"closed","updated_at":"2022-08-02T06:12+0000","schedule":[{"end":"2022-08-14T01:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null},{"status":"open","notes":null,"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00"},{"notes":null,"status":"open","end":"2022-08-14T22:00:00+00:00","begin":"2022-08-14T17:00:00+00:00"}],"peer_sort_order":8,"hotel":"","conference":"DEFCON30","conference_id":65},{"short_name":"203-204, 235 (Lock Pick Village)","peer_sort_order":4,"default_status":"closed","name":"Caesars Forum - Summit 203-204, 235 (Lock Pick Village)","schedule":[{"end":"2022-08-13T01:00:00+00:00","status":"open","notes":null,"begin":"2022-08-12T17:00:00+00:00"},{"end":"2022-08-14T01:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null},{"end":"2022-08-14T20:00:00+00:00","notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00"}],"hier_extent_right":38,"updated_at":"2022-08-02T06:12+0000","id":45399,"hier_depth":3,"conference":"DEFCON30","hotel":"","hier_extent_left":37,"conference_id":65,"parent_id":45436},{"default_status":"closed","short_name":"Virginia City III (Girls Hack Village)","conference_id":65,"id":45400,"hotel":"","schedule":[{"end":"2022-08-14T01:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","status":"open","notes":null},{"end":"2022-08-14T22:00:00+00:00","notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00"}],"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","parent_id":45445,"hier_extent_left":133,"hier_extent_right":134,"peer_sort_order":22,"hier_depth":3,"name":"Flamingo - Virginia City III (Girls Hack Village)"},{"hier_extent_right":128,"hier_extent_left":127,"hier_depth":3,"parent_id":45445,"conference_id":65,"hotel":"","name":"Flamingo - Twilight Ballroom  (Blacks In Cybersecurity Village)","short_name":"Twilight Ballroom  (Blacks In Cybersecurity Village)","schedule":[{"end":"2022-08-12T23:00:00+00:00","notes":null,"status":"open","begin":"2022-08-12T17:00:00+00:00"},{"notes":null,"status":"open","begin":"2022-08-13T17:00:00+00:00","end":"2022-08-13T23:00:00+00:00"}],"peer_sort_order":16,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","default_status":"closed","id":45401},{"hier_depth":3,"schedule":[{"status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null,"end":"2022-08-14T01:00:00+00:00"},{"end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","notes":null,"status":"open"}],"hotel":"","peer_sort_order":16,"conference_id":65,"hier_extent_right":50,"name":"Caesars Forum - Summit 221->236 (Misinformation Village)","hier_extent_left":49,"default_status":"closed","id":45402,"parent_id":45436,"short_name":"221->236 (Misinformation Village)","updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30"},{"schedule":[{"notes":null,"status":"open","begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","status":"open","notes":null},{"end":"2022-08-14T01:00:00+00:00","notes":null,"begin":"2022-08-13T17:00:00+00:00","status":"open"}],"id":45403,"updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","conference_id":65,"hotel":"","hier_extent_right":48,"default_status":"closed","hier_extent_left":47,"name":"Caesars Forum - Summit 217 (Quantum Village)","parent_id":45436,"hier_depth":3,"short_name":"217 (Quantum Village)","peer_sort_order":14},{"parent_id":45445,"updated_at":"2022-08-02T06:12+0000","id":45404,"peer_sort_order":6,"hier_depth":3,"conference":"DEFCON30","conference_id":65,"short_name":"Mesquite Ballroom  (Red Team Village)","hier_extent_left":111,"default_status":"closed","hotel":"","schedule":[{"notes":null,"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T20:00:00+00:00"},{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","notes":null,"status":"open"},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","notes":null,"status":"open"}],"name":"Flamingo - Mesquite Ballroom  (Red Team Village)","hier_extent_right":112},{"conference":"DEFCON30","hotel":"","peer_sort_order":4,"default_status":"closed","name":"Flamingo - Laughlin I,II,III (Bio Hacking Village)","id":45405,"short_name":"Laughlin I,II,III (Bio Hacking Village)","conference_id":65,"hier_extent_right":110,"hier_extent_left":109,"hier_depth":3,"updated_at":"2022-08-02T06:12+0000","schedule":[{"notes":null,"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T20:00:00+00:00","status":"open"},{"status":"open","notes":null,"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","notes":null,"end":"2022-08-13T01:00:00+00:00","status":"open"}],"parent_id":45445},{"hier_extent_right":58,"conference_id":65,"updated_at":"2022-08-02T06:12+0000","schedule":[{"status":"open","notes":null,"end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","notes":null,"end":"2022-08-13T01:00:00+00:00","status":"open"},{"end":"2022-08-14T22:00:00+00:00","notes":null,"begin":"2022-08-14T17:00:00+00:00","status":"open"}],"name":"Caesars Forum - Summit 224-227 (Policy@DEFCON.org)","peer_sort_order":20,"default_status":"closed","conference":"DEFCON30","hier_depth":3,"hotel":"","hier_extent_left":53,"short_name":"224-227 (Policy@DEFCON.org)","id":45406,"parent_id":45436},{"peer_sort_order":2,"hotel":"","short_name":"Evolution (Rogues Village)","hier_depth":3,"updated_at":"2022-08-02T06:12+0000","conference_id":65,"name":"LINQ - 3rd flr - Evolution (Rogues Village)","conference":"DEFCON30","id":45407,"parent_id":45490,"schedule":[{"end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","status":"open","notes":null},{"notes":null,"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","status":"open"},{"status":"open","end":"2022-08-14T22:00:00+00:00","notes":null,"begin":"2022-08-14T17:00:00+00:00"}],"default_status":"closed","hier_extent_left":173,"hier_extent_right":174},{"default_status":"closed","peer_sort_order":4,"parent_id":45434,"schedule":[{"status":"open","begin":"2022-08-12T17:00:00+00:00","notes":null,"end":"2022-08-13T01:00:00+00:00"},{"status":"open","begin":"2022-08-14T17:00:00+00:00","notes":null,"end":"2022-08-14T22:00:00+00:00"},{"notes":null,"end":"2022-08-14T01:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00"}],"hier_extent_left":67,"updated_at":"2022-08-02T06:12+0000","conference_id":65,"conference":"DEFCON30","hier_depth":3,"short_name":"310, 320 (Retail Hacking Village)","id":45408,"hotel":"","name":"Caesars Forum - Alliance 310, 320 (Retail Hacking Village)","hier_extent_right":68},{"name":"Caesars Forum - Academy 411-414, 420 (Packet Hacking Village)","hier_extent_right":86,"hier_extent_left":85,"default_status":"closed","schedule":[{"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","status":"open","notes":null},{"notes":null,"end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","status":"open"},{"end":"2022-08-13T01:00:00+00:00","notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open"}],"hier_depth":3,"conference_id":65,"short_name":"411-414, 420 (Packet Hacking Village)","peer_sort_order":10,"id":45409,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","parent_id":45433,"hotel":""},{"name":"Caesars Forum - Summit 228->236 (AI Village)","hotel":"","hier_extent_left":59,"hier_extent_right":60,"peer_sort_order":22,"id":45410,"schedule":[{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T02:00:00+00:00","status":"open","notes":null},{"begin":"2022-08-12T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-13T00:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T21:00:00+00:00","notes":null}],"hier_depth":3,"default_status":"closed","conference":"DEFCON30","parent_id":45436,"short_name":"228->236 (AI Village)","updated_at":"2022-08-02T06:12+0000","conference_id":65},{"parent_id":45445,"hotel":"","peer_sort_order":12,"conference_id":65,"default_status":"closed","hier_extent_left":123,"id":45411,"conference":"DEFCON30","hier_depth":3,"schedule":[{"status":"open","begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T00:00:00+00:00","notes":null},{"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","notes":null,"status":"open"},{"end":"2022-08-14T00:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null}],"name":"Flamingo - Scenic Ballroom (Adversary Village)","short_name":"Scenic Ballroom (Adversary Village)","hier_extent_right":124,"updated_at":"2022-08-02T06:12+0000"},{"conference_id":65,"hier_extent_left":39,"id":45412,"schedule":[{"notes":null,"status":"open","begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-13T01:00:00+00:00"},{"end":"2022-08-14T20:00:00+00:00","notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00"}],"name":"Caesars Forum - Summit 203-204, 235 (Tamper Evident Village)","hier_extent_right":40,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","default_status":"closed","hotel":"","hier_depth":3,"peer_sort_order":6,"parent_id":45436,"short_name":"203-204, 235 (Tamper Evident Village)"},{"hier_extent_right":183,"conference":"DEFCON30","id":45413,"schedule":[{"status":"open","begin":"2022-08-13T15:30:00+00:00","notes":null,"end":"2022-08-14T01:30:00+00:00"},{"status":"open","end":"2022-08-14T21:00:00+00:00","notes":null,"begin":"2022-08-14T15:30:00+00:00"},{"begin":"2022-08-12T15:30:00+00:00","end":"2022-08-13T01:30:00+00:00","notes":null,"status":"open"}],"hier_depth":2,"name":"LINQ - BLOQ (SkyTalks 303)","peer_sort_order":4,"hier_extent_left":182,"hotel":"","updated_at":"2022-08-02T06:12+0000","short_name":"BLOQ (SkyTalks 303)","parent_id":45438,"default_status":"closed","conference_id":65},{"hotel":"","peer_sort_order":8,"short_name":"Payment Village","default_status":"","hier_depth":2,"hier_extent_right":199,"hier_extent_left":198,"updated_at":"2022-08-02T06:12+0000","conference_id":65,"parent_id":45476,"schedule":[{"notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open","end":"2022-08-13T01:00:00+00:00"},{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","status":"open","notes":null},{"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","notes":null}],"name":"Virtual - Payment Village","conference":"DEFCON30","id":45414},{"name":"LINQ - 3rd flr - Social B and C (Recon Village)","hier_depth":3,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","short_name":"Social B and C (Recon Village)","hier_extent_right":178,"id":45415,"schedule":[{"notes":null,"end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","status":"open"},{"begin":"2022-08-13T17:00:00+00:00","notes":null,"end":"2022-08-14T01:00:00+00:00","status":"open"},{"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T20:00:00+00:00","notes":null}],"parent_id":45490,"hier_extent_left":177,"peer_sort_order":6,"conference_id":65,"hotel":"","default_status":"closed"},{"id":45416,"hier_depth":3,"conference_id":65,"schedule":[{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","status":"open","notes":null},{"notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00"},{"status":"open","notes":null,"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00"}],"hotel":"","name":"Caesars Forum - Alliance 313-314, 320 (Voting Machine Village)","updated_at":"2022-08-02T06:12+0000","hier_extent_left":71,"peer_sort_order":8,"short_name":"313-314, 320 (Voting Machine Village)","default_status":"closed","parent_id":45434,"conference":"DEFCON30","hier_extent_right":72},{"conference_id":65,"hier_extent_left":23,"default_status":"closed","hier_extent_right":24,"parent_id":45435,"hotel":"","name":"Caesars Forum - Forum 112-117 (Aerospace Village)","short_name":"112-117 (Aerospace Village)","updated_at":"2022-08-02T06:12+0000","schedule":[{"end":"2022-08-13T00:00:00+00:00","status":"open","begin":"2022-08-12T17:00:00+00:00","notes":null},{"begin":"2022-08-14T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-14T20:00:00+00:00"},{"end":"2022-08-14T00:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","notes":null,"status":"open"}],"id":45417,"hier_depth":3,"conference":"DEFCON30","peer_sort_order":20},{"updated_at":"2022-08-02T06:12+0000","default_status":"closed","schedule":[{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T02:00:00+00:00","status":"open","notes":null},{"end":"2022-08-13T02:00:00+00:00","notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open"},{"notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00"}],"hier_extent_left":175,"hotel":"","id":45418,"conference_id":65,"short_name":"Social A (Social Engineering Community)","conference":"DEFCON30","hier_extent_right":176,"name":"LINQ - 3rd flr - Social A (Social Engineering Community)","parent_id":45490,"hier_depth":3,"peer_sort_order":4},{"hier_extent_right":52,"hotel":"","conference":"DEFCON30","short_name":"218-219 (Password Village)","peer_sort_order":18,"hier_extent_left":51,"schedule":[{"status":"open","begin":"2022-08-14T17:00:00+00:00","notes":null,"end":"2022-08-14T22:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","notes":null,"end":"2022-08-13T01:00:00+00:00","status":"open"},{"status":"open","end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","notes":null}],"default_status":"closed","hier_depth":3,"updated_at":"2022-08-02T06:12+0000","id":45419,"parent_id":45436,"name":"Caesars Forum - Summit 218-219 (Password Village)","conference_id":65},{"default_status":"closed","hier_depth":3,"hotel":"","conference":"DEFCON30","conference_id":65,"updated_at":"2022-08-02T06:12+0000","hier_extent_left":27,"peer_sort_order":24,"name":"Caesars Forum - Forum 124-128 (Car Hacking Village)","short_name":"124-128 (Car Hacking Village)","hier_extent_right":28,"id":45420,"schedule":[{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T00:00:00+00:00","status":"open","notes":null},{"end":"2022-08-14T19:00:00+00:00","notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00"},{"notes":null,"end":"2022-08-13T00:00:00+00:00","status":"open","begin":"2022-08-12T17:00:00+00:00"}],"parent_id":45435},{"conference":"DEFCON30","schedule":[{"begin":"2022-08-14T17:00:00+00:00","notes":null,"end":"2022-08-14T21:00:00+00:00","status":"open"},{"status":"open","begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T00:00:00+00:00","notes":null},{"status":"open","notes":null,"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T00:00:00+00:00"}],"updated_at":"2022-08-02T06:12+0000","parent_id":45445,"hier_extent_left":125,"id":45421,"default_status":"closed","short_name":"Twilight Ballroom  (Appsec Village)","name":"Flamingo - Twilight Ballroom  (Appsec Village)","peer_sort_order":14,"hier_depth":3,"hier_extent_right":126,"conference_id":65,"hotel":""},{"conference":"DEFCON30","peer_sort_order":6,"hotel":"","short_name":"Red Rock VI, VII, VII (Hardware Hacking Village)","hier_extent_right":148,"hier_depth":3,"schedule":[{"end":"2022-08-14T20:00:00+00:00","notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00"},{"status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null,"end":"2022-08-14T01:00:00+00:00"},{"status":"open","begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","notes":null}],"id":45422,"hier_extent_left":147,"name":"Flamingo - Exec Conf Ctr - Red Rock VI, VII, VII (Hardware Hacking Village)","parent_id":45440,"updated_at":"2022-08-02T06:12+0000","default_status":"closed","conference_id":65},{"updated_at":"2022-08-02T06:12+0000","conference_id":65,"name":"Flamingo - Exec Conf Ctr - Lake Meade and Valley of Fire (Data Duplication Village)","hier_extent_right":144,"short_name":"Lake Meade and Valley of Fire (Data Duplication Village)","parent_id":45440,"hier_extent_left":143,"hier_depth":3,"hotel":"","default_status":"closed","conference":"DEFCON30","id":45423,"schedule":[{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T00:00:00+00:00","status":"open","notes":null},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T00:00:00+00:00","status":"open","notes":null},{"end":"2022-08-14T18:00:00+00:00","status":"open","notes":null,"begin":"2022-08-14T17:00:00+00:00"},{"end":"2022-08-12T02:00:00+00:00","begin":"2022-08-11T23:00:00+00:00","notes":null,"status":"open"}],"peer_sort_order":2},{"schedule":[{"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","status":"open","notes":null},{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","status":"open","notes":null},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","notes":null,"status":"open"}],"peer_sort_order":6,"name":"Caesars Forum - Alliance 311, 320 (IoT Village)","hotel":"","hier_extent_right":70,"conference_id":65,"parent_id":45434,"hier_extent_left":69,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","short_name":"311, 320 (IoT Village)","hier_depth":3,"id":45424,"default_status":"closed"},{"default_status":"closed","parent_id":45440,"hotel":"","hier_extent_right":146,"conference":"DEFCON30","hier_extent_left":145,"peer_sort_order":4,"hier_depth":3,"name":"Flamingo - Exec Conf Ctr - Red Rock I, II, III, IV, V (Solder Skills Village)","short_name":"Red Rock I, II, III, IV, V (Solder Skills Village)","schedule":[{"status":"open","end":"2022-08-14T20:00:00+00:00","notes":null,"begin":"2022-08-14T17:00:00+00:00"},{"status":"open","end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","notes":null},{"notes":null,"end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","status":"open"}],"conference_id":65,"id":45425,"updated_at":"2022-08-02T06:12+0000"},{"conference_id":65,"short_name":"Virginia City I (Ham Radio Village Exams)","parent_id":45445,"peer_sort_order":18,"name":"Flamingo - Virginia City I (Ham Radio Village Exams)","default_status":"closed","hier_extent_right":130,"schedule":[{"end":"2022-08-14T19:00:00+00:00","status":"open","begin":"2022-08-14T17:00:00+00:00","notes":null},{"end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T16:00:00+00:00","notes":null,"status":"open"},{"status":"open","begin":"2022-08-12T16:00:00+00:00","end":"2022-08-13T01:00:00+00:00","notes":null}],"hier_depth":3,"id":45426,"hotel":"","updated_at":"2022-08-02T06:12+0000","hier_extent_left":129,"conference":"DEFCON30"},{"default_status":"closed","hier_depth":3,"hotel":"","id":45427,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","hier_extent_left":107,"conference_id":65,"name":"Flamingo - Eldarado Ballroom  (Radio Frequency Village)","short_name":"Eldarado Ballroom  (Radio Frequency Village)","parent_id":45445,"hier_extent_right":108,"schedule":[{"begin":"2022-08-14T17:00:00+00:00","notes":null,"end":"2022-08-14T22:00:00+00:00","status":"open"},{"begin":"2022-08-12T17:00:00+00:00","status":"open","notes":null,"end":"2022-08-13T01:00:00+00:00"},{"status":"open","end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","notes":null}],"peer_sort_order":2},{"hier_depth":3,"parent_id":45436,"hier_extent_left":35,"hotel":"","conference_id":65,"updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","default_status":"closed","id":45428,"peer_sort_order":2,"hier_extent_right":36,"schedule":[{"status":"open","end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","notes":null},{"notes":null,"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T22:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","notes":null,"end":"2022-08-13T01:00:00+00:00","status":"open"}],"name":"Caesars Forum - Summit 201-202 (Physical Security Village)","short_name":"201-202 (Physical Security Village)"},{"parent_id":45445,"short_name":"Vista Ballroom  (Crypto Privacy Village)","schedule":[{"status":"open","begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","notes":null},{"end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","status":"open","notes":null},{"status":"open","end":"2022-08-14T22:00:00+00:00","notes":null,"begin":"2022-08-14T17:00:00+00:00"}],"updated_at":"2022-08-02T06:12+0000","peer_sort_order":24,"conference_id":65,"hier_extent_right":136,"default_status":"closed","conference":"DEFCON30","hier_depth":3,"hotel":"","hier_extent_left":135,"id":45429,"name":"Flamingo - Vista Ballroom  (Crypto Privacy Village)"},{"updated_at":"2022-08-02T06:12+0000","parent_id":45434,"peer_sort_order":10,"schedule":[{"status":"open","end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","notes":null},{"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","notes":null,"status":"open"},{"end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","status":"open","notes":null}],"hier_extent_right":74,"hier_extent_left":73,"hier_depth":3,"conference_id":65,"short_name":"314 - 319 (ICS Village)","default_status":"closed","conference":"DEFCON30","hotel":"","name":"Caesars Forum - Alliance 314 - 319 (ICS Village)","id":45430},{"conference":"DEFCON30","name":"Flamingo - Scenic Ballroom  (Cloud Village)","short_name":"Scenic Ballroom  (Cloud Village)","hier_extent_right":122,"default_status":"closed","hier_extent_left":121,"peer_sort_order":10,"hier_depth":3,"schedule":[{"status":"open","end":"2022-08-13T00:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","notes":null},{"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T20:00:00+00:00","notes":null},{"end":"2022-08-14T00:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","status":"open","notes":null}],"parent_id":45445,"conference_id":65,"id":45431,"updated_at":"2022-08-02T06:12+0000","hotel":""},{"conference":"DEFCON30","parent_id":0,"peer_sort_order":2,"hotel":"","hier_depth":1,"default_status":"","name":"Caesars Forum","hier_extent_left":1,"schedule":[],"conference_id":65,"short_name":"Caesars Forum","id":45432,"hier_extent_right":104,"updated_at":"2022-08-02T06:12+0000"},{"hier_extent_right":87,"default_status":"","hotel":"","id":45433,"parent_id":45432,"name":"Caesars Forum - Academy","hier_extent_left":76,"conference_id":65,"hier_depth":2,"schedule":[],"updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","short_name":"Academy","peer_sort_order":10},{"default_status":"","hier_extent_left":64,"short_name":"Alliance","parent_id":45432,"hotel":"","name":"Caesars Forum - Alliance","peer_sort_order":8,"conference_id":65,"schedule":[],"hier_extent_right":75,"conference":"DEFCON30","id":45434,"updated_at":"2022-08-02T06:12+0000","hier_depth":2},{"conference":"DEFCON30","parent_id":45432,"id":45435,"peer_sort_order":4,"default_status":"","hier_extent_right":33,"conference_id":65,"name":"Caesars Forum - Forum","hotel":"","hier_depth":2,"short_name":"Forum","hier_extent_left":4,"schedule":[],"updated_at":"2022-08-02T06:12+0000"},{"hotel":"","hier_extent_right":63,"id":45436,"schedule":[],"name":"Caesars Forum - Summit","hier_extent_left":34,"hier_depth":2,"peer_sort_order":6,"parent_id":45432,"updated_at":"2022-08-02T06:12+0000","conference_id":65,"short_name":"Summit","default_status":"","conference":"DEFCON30"},{"hier_extent_left":105,"hier_extent_right":152,"hier_depth":1,"peer_sort_order":4,"default_status":"","hotel":"","id":45437,"schedule":[],"conference":"DEFCON30","name":"Flamingo","short_name":"Flamingo","parent_id":0,"conference_id":65,"updated_at":"2022-08-02T06:12+0000"},{"default_status":"","parent_id":0,"short_name":"LINQ","schedule":[],"name":"LINQ","id":45438,"hier_extent_right":186,"hier_extent_left":171,"conference_id":65,"hier_depth":1,"conference":"DEFCON30","peer_sort_order":8,"hotel":"","updated_at":"2022-08-02T06:12+0000"},{"hotel":"","short_name":"Harrah's Corporate Convention Center","conference_id":65,"id":45439,"name":"Harrah's Corporate Convention Center","hier_extent_right":170,"updated_at":"2022-08-02T06:12+0000","hier_extent_left":153,"peer_sort_order":6,"parent_id":0,"schedule":[],"default_status":"","conference":"DEFCON30","hier_depth":1},{"hier_depth":2,"schedule":[],"short_name":"Exec Conf Ctr","default_status":"","id":45440,"conference":"DEFCON30","name":"Flamingo - Exec Conf Ctr","hier_extent_right":149,"conference_id":65,"parent_id":45437,"hotel":"","peer_sort_order":4,"hier_extent_left":142,"updated_at":"2022-08-02T06:12+0000"},{"parent_id":45432,"updated_at":"2022-08-02T06:12+0000","default_status":"","short_name":"Boardrooms","name":"Caesars Forum - Boardrooms","hier_depth":2,"conference_id":65,"peer_sort_order":12,"id":45441,"hier_extent_left":88,"conference":"DEFCON30","schedule":[],"hier_extent_right":103,"hotel":""},{"conference":"DEFCON30","schedule":[],"hotel":"","default_status":"","hier_depth":3,"hier_extent_right":92,"short_name":"Caucus Boardroom (Demo Labs)","updated_at":"2022-08-02T06:12+0000","peer_sort_order":4,"conference_id":65,"parent_id":45441,"id":45442,"hier_extent_left":91,"name":"Caesars Forum - Caucus Boardroom (Demo Labs)"},{"hier_extent_right":98,"short_name":"Council Boardroom (Demo Labs)","conference":"DEFCON30","name":"Caesars Forum - Council Boardroom (Demo Labs)","hotel":"","hier_extent_left":97,"schedule":[],"id":45443,"hier_depth":3,"default_status":"","peer_sort_order":10,"updated_at":"2022-08-02T06:12+0000","conference_id":65,"parent_id":45441},{"default_status":"","peer_sort_order":8,"hotel":"","updated_at":"2022-08-02T06:12+0000","hier_extent_right":96,"hier_extent_left":95,"schedule":[],"hier_depth":3,"id":45444,"parent_id":45441,"conference_id":65,"short_name":"Committee Boardroom (Demo Labs)","conference":"DEFCON30","name":"Caesars Forum - Committee Boardroom (Demo Labs)"},{"peer_sort_order":2,"name":"Flamingo - Corp Conv Ctr","conference_id":65,"hier_extent_right":141,"schedule":[],"conference":"DEFCON30","id":45445,"updated_at":"2022-08-02T06:12+0000","parent_id":45437,"default_status":"","hier_extent_left":106,"short_name":"Corp Conv Ctr","hotel":"","hier_depth":2},{"updated_at":"2022-08-02T06:12+0000","hotel":"","parent_id":45436,"hier_extent_right":62,"hier_extent_left":61,"id":45446,"peer_sort_order":24,"name":"Caesars Forum - Summit 229 (Merch)","schedule":[],"hier_depth":3,"short_name":"229 (Merch)","conference_id":65,"conference":"DEFCON30","default_status":""},{"hier_extent_right":6,"hotel":"","parent_id":45435,"name":"Caesars Forum - Forum 103 (Human Registration)","id":45447,"schedule":[],"default_status":"","conference":"DEFCON30","peer_sort_order":2,"conference_id":65,"hier_depth":3,"short_name":"103 (Human Registration)","updated_at":"2022-08-02T06:12+0000","hier_extent_left":5},{"default_status":"","hier_extent_left":29,"conference":"DEFCON30","short_name":"130-132, 134 (Vendors)","hier_depth":3,"id":45448,"peer_sort_order":26,"conference_id":65,"schedule":[],"name":"Caesars Forum - Forum 130-132, 134 (Vendors)","parent_id":45435,"hotel":"","hier_extent_right":30,"updated_at":"2022-08-02T06:12+0000"},{"id":45449,"hier_depth":3,"conference":"DEFCON30","name":"LINQ - 3rd flr - Chillout","updated_at":"2022-08-02T06:12+0000","hier_extent_right":180,"parent_id":45490,"hotel":"","conference_id":65,"schedule":[],"peer_sort_order":8,"short_name":"Chillout","hier_extent_left":179,"default_status":""},{"hier_extent_left":54,"hier_depth":4,"short_name":"224-225 - Policy Collaboratorium","hier_extent_right":55,"conference":"DEFCON30","id":45464,"conference_id":65,"name":"Caesars Forum - Summit 224-225 - Policy Collaboratorium","hotel":"","default_status":"","parent_id":45406,"schedule":[],"updated_at":"2022-08-02T06:12+0000","peer_sort_order":2},{"hier_extent_left":56,"schedule":[],"hier_depth":4,"short_name":"226-227 - Policy Roundtable","parent_id":45406,"hier_extent_right":57,"name":"Caesars Forum - Summit 226-227 - Policy Roundtable","default_status":"","peer_sort_order":4,"id":45465,"conference":"DEFCON30","hotel":"","conference_id":65,"updated_at":"2022-08-02T06:12+0000"},{"parent_id":45436,"hier_depth":3,"hier_extent_left":43,"short_name":"211-213 (Teacher's Lounge)","updated_at":"2022-08-02T06:12+0000","hotel":"","schedule":[],"default_status":"","conference_id":65,"id":45466,"conference":"DEFCON30","name":"Caesars Forum - Summit 211-213 (Teacher's Lounge)","peer_sort_order":10,"hier_extent_right":44},{"peer_sort_order":12,"conference_id":65,"short_name":"214-216 (CTF Area)","schedule":[],"hotel":"","id":45467,"parent_id":45436,"default_status":"","conference":"DEFCON30","hier_extent_right":46,"hier_extent_left":45,"name":"Caesars Forum - Summit 214-216 (CTF Area)","hier_depth":3,"updated_at":"2022-08-02T06:12+0000"},{"name":"Caesars Forum - Summit 206-208, 238, 237, 234 (Contest Area)","conference_id":65,"hotel":"","default_status":"","parent_id":45436,"schedule":[],"conference":"DEFCON30","hier_extent_left":41,"peer_sort_order":8,"hier_extent_right":42,"short_name":"206-208, 238, 237, 234 (Contest Area)","id":45468,"updated_at":"2022-08-02T06:12+0000","hier_depth":3},{"id":45469,"hier_extent_left":2,"name":"Caesars Forum - Skybridge Entrance","hier_depth":2,"conference":"DEFCON30","default_status":"","schedule":[],"hotel":"","updated_at":"2022-08-02T06:12+0000","peer_sort_order":2,"hier_extent_right":3,"conference_id":65,"short_name":"Skybridge Entrance","parent_id":45432},{"id":45470,"default_status":"","hier_depth":4,"conference":"DEFCON30","conference_id":65,"hotel":"","hier_extent_right":115,"peer_sort_order":2,"hier_extent_left":114,"schedule":[],"name":"Flamingo - Savoy Ballroom - BTV Main Stage (In-person)","short_name":"BTV Main Stage (In-person)","parent_id":45398,"updated_at":"2022-08-02T06:12+0000"},{"id":45471,"updated_at":"2022-08-02T06:12+0000","schedule":[],"hier_extent_right":117,"peer_sort_order":4,"conference_id":65,"hotel":"","short_name":"BTV Project Obsidian: Track 0x41 (In-person)","hier_extent_left":116,"default_status":"","name":"Flamingo - Savoy Ballroom - BTV Project Obsidian: Track 0x41 (In-person)","conference":"DEFCON30","hier_depth":4,"parent_id":45398},{"schedule":[],"hier_depth":4,"default_status":"","updated_at":"2022-08-02T06:12+0000","peer_sort_order":6,"name":"Flamingo - Savoy Ballroom - BTV Project Obsidian: Track 0x42 (In-person)","hier_extent_right":119,"conference_id":65,"hier_extent_left":118,"id":45472,"conference":"DEFCON30","parent_id":45398,"short_name":"BTV Project Obsidian: Track 0x42 (In-person)","hotel":""},{"updated_at":"2022-08-02T06:12+0000","hotel":"","peer_sort_order":2,"default_status":"","hier_depth":3,"conference":"DEFCON30","parent_id":45475,"hier_extent_left":191,"short_name":"Talks","id":45473,"hier_extent_right":192,"schedule":[],"conference_id":65,"name":"Virtual - BlueTeam Village - Talks"},{"hier_extent_right":194,"id":45474,"parent_id":45475,"conference":"DEFCON30","schedule":[],"hier_depth":3,"name":"Virtual - BlueTeam Village - Workshops","default_status":"","updated_at":"2022-08-02T06:12+0000","short_name":"Workshops","conference_id":65,"peer_sort_order":4,"hier_extent_left":193,"hotel":""},{"hotel":"","hier_extent_right":195,"hier_depth":2,"id":45475,"short_name":"BlueTeam Village","schedule":[],"name":"Virtual - BlueTeam Village","peer_sort_order":4,"default_status":"","conference":"DEFCON30","hier_extent_left":190,"conference_id":65,"updated_at":"2022-08-02T06:12+0000","parent_id":45476},{"conference_id":65,"short_name":"Virtual","hier_extent_right":200,"hier_depth":1,"hier_extent_left":187,"default_status":"","updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","parent_id":0,"schedule":[],"hotel":"","peer_sort_order":10,"name":"Virtual","id":45476},{"parent_id":45445,"schedule":[],"conference_id":65,"short_name":"Carson City (Chillout)","name":"Flamingo - Carson City (Chillout)","id":45477,"hier_extent_left":137,"default_status":"closed","conference":"DEFCON30","hier_extent_right":138,"peer_sort_order":26,"updated_at":"2022-08-02T06:12+0000","hier_depth":3,"hotel":""},{"id":45478,"hier_extent_left":139,"short_name":"Carson City (Memorial Room)","conference_id":65,"conference":"DEFCON30","hotel":"","hier_depth":3,"hier_extent_right":140,"parent_id":45445,"name":"Flamingo - Carson City (Memorial Room)","schedule":[],"peer_sort_order":28,"updated_at":"2022-08-02T06:12+0000","default_status":""},{"schedule":[],"updated_at":"2022-08-02T06:12+0000","hotel":"","hier_extent_right":155,"peer_sort_order":2,"hier_depth":2,"parent_id":45439,"short_name":"Silver (Workshops)","hier_extent_left":154,"conference_id":65,"name":"Harrah's - Silver (Workshops)","default_status":"","id":45480,"conference":"DEFCON30"},{"conference":"DEFCON30","hier_depth":2,"schedule":[],"conference_id":65,"short_name":"Lake Tahoe (Workshops)","parent_id":45439,"name":"Harrah's - Lake Tahoe (Workshops)","hier_extent_right":159,"updated_at":"2022-08-02T06:12+0000","id":45481,"hier_extent_left":158,"default_status":"","peer_sort_order":6,"hotel":""},{"hier_extent_left":162,"schedule":[],"hotel":"","updated_at":"2022-08-02T06:12+0000","hier_extent_right":163,"peer_sort_order":10,"default_status":"","parent_id":45439,"name":"Harrah's - Reno (Workshops)","conference_id":65,"id":45482,"short_name":"Reno (Workshops)","hier_depth":2,"conference":"DEFCON30"},{"parent_id":45439,"schedule":[],"peer_sort_order":4,"hier_depth":2,"hotel":"","hier_extent_right":157,"short_name":"Copper (Workshops)","id":45483,"name":"Harrah's - Copper (Workshops)","default_status":"","conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","hier_extent_left":156,"conference_id":65},{"schedule":[],"short_name":"Elko (Workshops)","conference_id":65,"updated_at":"2022-08-02T06:12+0000","hotel":"","default_status":"","parent_id":45439,"hier_depth":2,"hier_extent_right":161,"hier_extent_left":160,"id":45484,"peer_sort_order":8,"conference":"DEFCON30","name":"Harrah's - Elko (Workshops)"},{"updated_at":"2022-08-02T06:12+0000","conference_id":65,"hier_extent_right":165,"default_status":"","conference":"DEFCON30","peer_sort_order":12,"schedule":[],"hier_extent_left":164,"hotel":"","short_name":"Goldfield + Tonopah (Workshops)","parent_id":45439,"hier_depth":2,"id":45485,"name":"Harrah's - Goldfield + Tonopah (Workshops)"},{"hotel":"","peer_sort_order":14,"updated_at":"2022-08-02T06:12+0000","schedule":[],"id":45486,"conference_id":65,"short_name":"Ely (Workshops)","hier_extent_left":166,"default_status":"","conference":"DEFCON30","hier_depth":2,"name":"Harrah's - Ely (Workshops)","hier_extent_right":167,"parent_id":45439},{"id":45487,"conference_id":65,"short_name":"Car Hacking Village (Twitch)","hier_extent_right":197,"hier_extent_left":196,"parent_id":45476,"hotel":"","hier_depth":2,"conference":"DEFCON30","updated_at":"2022-08-02T06:12+0000","schedule":[],"name":"Virtual - Car Hacking Village (Twitch)","peer_sort_order":6,"default_status":""},{"peer_sort_order":2,"updated_at":"2022-08-02T06:12+0000","conference":"DEFCON30","hotel":"","parent_id":45476,"default_status":"","hier_depth":2,"short_name":"BIC Village (YouTube)","conference_id":65,"hier_extent_right":189,"schedule":[],"id":45488,"name":"Virtual - BIC Village (YouTube)","hier_extent_left":188},{"hier_extent_right":132,"conference_id":65,"parent_id":45445,"conference":"DEFCON30","hier_extent_left":131,"hier_depth":3,"name":"Flamingo - Virginia City II (Ham Radio Village Activities)","hotel":"","peer_sort_order":20,"updated_at":"2022-08-02T06:12+0000","id":45489,"schedule":[],"default_status":"closed","short_name":"Virginia City II (Ham Radio Village Activities)"},{"conference_id":65,"updated_at":"2022-08-02T06:12+0000","hotel":"","name":"LINQ - 3rd floor","short_name":"3rd floor","parent_id":45438,"hier_extent_right":181,"conference":"DEFCON30","peer_sort_order":2,"hier_extent_left":172,"default_status":"closed","schedule":[],"id":45490,"hier_depth":2},{"updated_at":"2022-08-02T06:12+0000","hotel":"","id":45491,"peer_sort_order":4,"hier_extent_right":80,"hier_depth":3,"short_name":"405","schedule":[],"name":"Caesars Forum - Academy 405","default_status":"","parent_id":45433,"hier_extent_left":79,"conference":"DEFCON30","conference_id":65}]
    """#

    let decoder = JSONDecoder()
    decoder.dateDecodingStrategy = .iso8601
    return try? decoder.decode([HTLocationModel].self, from: Data(jsonData.utf8))
}
