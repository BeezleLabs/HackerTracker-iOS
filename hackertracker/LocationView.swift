//
//  LocationView.swift
//  hackertracker
//
//  Created by Seth W Law on 7/26/22.
//  Copyright Â© 2022 Beezle Labs. All rights reserved.
//

import Foundation
import SwiftUI
import UIKit

struct LocationView: View {
    var locations: [HTLocationModel]

    var body: some View {
        ScrollView {
            Text("Locations!")
            Text("data: \(locations.count)")
            ForEach(locations, id: \.id) { loc in
                Text("data: \(locations.count) - \(loc.conferenceName)!")
                Text(loc.name)
                    .font(.title)
                Text("something else goes hsere")
                    .font(.caption)
            }
        }
    }
}

func 

struct LocationView_Previews: PreviewProvider {
    static var previews: some View {
        LocationView(locations: getMockData() ?? [])
    }
}

class LocationUIView: UIViewController {
    var locationsToken: UpdateToken?
    var locations: [HTLocationModel] = []

    override func viewDidLoad() {
        super.viewDidLoad()
        NSLog("LocationUIView viewDidLoad")
        loadLocations()
    }

    override func viewDidAppear(_ animated: Bool) {
        let lvc = UIHostingController(rootView: LocationView(locations: locations))

        super.viewDidAppear(animated)
        NSLog("LocationUIView viewDidAppear")
        addChild(lvc)

        view.addSubview(lvc.view)
        lvc.view.translatesAutoresizingMaskIntoConstraints = false
        lvc.view.topAnchor.constraint(equalTo: view.topAnchor).isActive = true
        lvc.view.rightAnchor.constraint(equalTo: view.rightAnchor).isActive = true
        lvc.view.bottomAnchor.constraint(equalTo: view.bottomAnchor).isActive = true
        lvc.view.leftAnchor.constraint(equalTo: view.leftAnchor).isActive = true

        lvc.view.backgroundColor = UIColor(red: 45.0 / 255.0, green: 45.0 / 255.0, blue: 45.0 / 255.0, alpha: 1.0)
    }

    required init?(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
    }

    func loadLocations() {
        locationsToken = FSConferenceDataController.shared.requestLocations(forConference: AnonymousSession.shared.currentConference) { result in
            switch result {
            case let .success(locationList):
                self.locations = locationList
                self.viewDidAppear(true)
            case let .failure(error):
                NSLog("Load Locations Failure: \(error.localizedDescription)")
            }
        }
    }
}

extension HTLocationModel {
    enum CodingKeys: String, CodingKey {
        case id
        case conferenceName = "conference"
        case name
        case hotel
        case defaultStatus = "default_status"
        case schedule
    }
}

func getMockData() -> [HTLocationModel]? {
    let jsonData = #"""
    [{"hier_extent_left":191,"schedule":[],"parent_id":0,"updated_at":"2022-07-31T04:51+0000","id":45329,"conference":"DEFCON30","peer_sort_order":12,"default_status":"","name":"Other/See Description","hier_depth":1,"conference_id":65,"hotel":"","hier_extent_right":192},{"hier_extent_left":7,"id":45372,"conference":"DEFCON30","default_status":"","schedule":[],"hier_extent_right":8,"peer_sort_order":4,"conference_id":65,"name":"Caesars Forum - Forum 104-105, 135-136 (Track 1)","updated_at":"2022-07-31T04:51+0000","parent_id":45435,"hotel":"","hier_depth":3},{"peer_sort_order":10,"hier_depth":3,"hier_extent_left":13,"updated_at":"2022-07-31T04:51+0000","hotel":"","default_status":"","hier_extent_right":14,"name":"Caesars Forum - Forum 106-110, 138-139 (Track 2)","parent_id":45435,"schedule":[],"id":45373,"conference":"DEFCON30","conference_id":65},{"hier_extent_right":78,"conference":"DEFCON30","parent_id":45433,"hier_extent_left":77,"updated_at":"2022-07-31T04:51+0000","hotel":"","conference_id":65,"hier_depth":3,"name":"Caesars Forum - Academy 401-410, 421 (Track 3)","id":45374,"peer_sort_order":2,"schedule":[],"default_status":""},{"updated_at":"2022-07-31T04:51+0000","hotel":"","peer_sort_order":2,"parent_id":45434,"hier_depth":3,"name":"Caesars Forum - Alliance 301-309, 321 (Track 4)","hier_extent_left":65,"default_status":"","hier_extent_right":66,"schedule":[],"conference_id":65,"id":45375,"conference":"DEFCON30"},{"schedule":[],"id":45376,"parent_id":45435,"hier_extent_right":12,"conference":"DEFCON30","name":"Caesars Forum - Forum 104-110, 135-136, 138-139 (Tracks 1+2)","default_status":"","hotel":"","peer_sort_order":8,"hier_depth":3,"conference_id":65,"updated_at":"2022-07-31T04:51+0000","hier_extent_left":11},{"peer_sort_order":12,"updated_at":"2022-07-31T04:51+0000","name":"LINQ - Pool","hier_extent_right":179,"schedule":[],"hier_extent_left":178,"id":45382,"default_status":"","hotel":"","parent_id":45438,"conference_id":65,"conference":"DEFCON30","hier_depth":2},{"name":"Flamingo - Bird Bar","updated_at":"2022-07-31T04:51+0000","hier_depth":2,"default_status":"","hotel":"","parent_id":45437,"hier_extent_right":147,"conference":"DEFCON30","id":45383,"hier_extent_left":146,"schedule":[],"conference_id":65,"peer_sort_order":6},{"conference_id":65,"id":45384,"updated_at":"2022-07-31T04:51+0000","default_status":"","hier_extent_right":165,"schedule":[],"parent_id":45439,"conference":"DEFCON30","peer_sort_order":16,"hier_depth":2,"hotel":"","hier_extent_left":164,"name":"Harrah's - Parlor D & The Veranda (Meetup)"},{"id":45385,"peer_sort_order":28,"updated_at":"2022-07-31T04:51+0000","hotel":"","hier_extent_left":31,"schedule":[],"default_status":"","name":"Caesars Forum - Forum 133 (Karaoke/Chess)","parent_id":45435,"conference":"DEFCON30","conference_id":65,"hier_extent_right":32,"hier_depth":3},{"parent_id":45435,"peer_sort_order":14,"hier_extent_right":18,"schedule":[],"default_status":"","hotel":"","conference":"DEFCON30","conference_id":65,"id":45386,"name":"Caesars Forum - Forum 108-110","hier_extent_left":17,"hier_depth":3,"updated_at":"2022-07-31T04:51+0000"},{"hotel":"","hier_extent_right":16,"parent_id":45435,"name":"Caesars Forum - Forum 106, 139","updated_at":"2022-07-31T04:51+0000","peer_sort_order":12,"conference_id":65,"hier_extent_left":15,"id":45387,"hier_depth":3,"schedule":[],"default_status":"","conference":"DEFCON30"},{"conference_id":65,"id":45388,"conference":"DEFCON30","hier_depth":3,"parent_id":45435,"hotel":"","name":"Caesars Forum - Forum 104-105, 136","hier_extent_left":9,"hier_extent_right":10,"default_status":"","schedule":[],"peer_sort_order":6,"updated_at":"2022-07-31T04:51+0000"},{"conference":"DEFCON30","hotel":"","name":"Caesars Forum - Forum 109-110","updated_at":"2022-07-31T04:51+0000","default_status":"","hier_extent_right":20,"hier_extent_left":19,"conference_id":65,"id":45389,"peer_sort_order":16,"parent_id":45435,"hier_depth":3,"schedule":[]},{"default_status":"","conference":"DEFCON30","hier_extent_right":22,"hier_depth":3,"updated_at":"2022-07-31T04:51+0000","conference_id":65,"hotel":"","schedule":[],"parent_id":45435,"hier_extent_left":21,"name":"Caesars Forum - Forum 110","id":45390,"peer_sort_order":18},{"id":45391,"parent_id":45433,"name":"Caesars Forum - Academy 409","default_status":"","hier_depth":3,"hier_extent_left":79,"conference":"DEFCON30","updated_at":"2022-07-31T04:51+0000","hotel":"","conference_id":65,"peer_sort_order":4,"schedule":[],"hier_extent_right":80},{"updated_at":"2022-07-31T04:51+0000","hotel":"","parent_id":45433,"conference_id":65,"name":"Caesars Forum - Academy 410","schedule":[],"default_status":"","hier_extent_left":81,"hier_depth":3,"peer_sort_order":6,"hier_extent_right":82,"id":45392,"conference":"DEFCON30"},{"conference":"DEFCON30","name":"Caesars Forum - Society Boardroom (Demo Labs)","updated_at":"2022-07-31T04:51+0000","id":45393,"conference_id":65,"hier_extent_left":97,"parent_id":45441,"hotel":"","peer_sort_order":12,"schedule":[],"default_status":"","hier_depth":3,"hier_extent_right":98},{"hier_depth":3,"updated_at":"2022-07-31T04:51+0000","id":45394,"peer_sort_order":14,"schedule":[],"hier_extent_left":99,"name":"Caesars Forum - Unity Boardroom","default_status":"","hotel":"","hier_extent_right":100,"conference":"DEFCON30","conference_id":65,"parent_id":45441},{"conference":"DEFCON30","peer_sort_order":2,"hier_extent_left":87,"hier_depth":3,"conference_id":65,"name":"Caesars Forum - Accord Boardroom (Demo Labs)","parent_id":45441,"id":45395,"hotel":"","schedule":[],"updated_at":"2022-07-31T04:51+0000","default_status":"","hier_extent_right":88},{"default_status":"","updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Caucus & Society Boardrooms (Demo Labs)","hotel":"","conference_id":65,"id":45396,"hier_extent_right":92,"hier_depth":3,"peer_sort_order":6,"schedule":[],"hier_extent_left":91,"parent_id":45441,"conference":"DEFCON30"},{"default_status":"","parent_id":45435,"id":45397,"hotel":"","hier_extent_left":25,"peer_sort_order":22,"conference_id":65,"updated_at":"2022-07-31T04:51+0000","schedule":[],"conference":"DEFCON30","hier_depth":3,"name":"Caesars Forum - Forum 120-123, 129, 137 (Chillout)","hier_extent_right":26},{"hier_depth":3,"hier_extent_left":111,"peer_sort_order":8,"hotel":"","conference_id":65,"hier_extent_right":118,"updated_at":"2022-07-31T04:51+0000","default_status":"closed","schedule":[{"status":"open","begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","notes":null},{"begin":"2022-08-12T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-13T01:00:00+00:00"},{"end":"2022-08-14T22:00:00+00:00","status":"open","begin":"2022-08-14T17:00:00+00:00","notes":null}],"conference":"DEFCON30","id":45398,"parent_id":45445,"name":"Flamingo - Savoy Ballroom (Blue Team Village)"},{"updated_at":"2022-07-31T04:51+0000","default_status":"closed","conference_id":65,"hier_extent_right":38,"parent_id":45436,"id":45399,"hier_extent_left":37,"hier_depth":3,"hotel":"","conference":"DEFCON30","schedule":[{"notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open","end":"2022-08-13T01:00:00+00:00"},{"notes":null,"begin":"2022-08-13T17:00:00+00:00","status":"open","end":"2022-08-14T01:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","notes":null,"end":"2022-08-14T20:00:00+00:00","status":"open"}],"peer_sort_order":4,"name":"Caesars Forum - Summit 203-204, 235 (Lock Pick Village)"},{"updated_at":"2022-07-31T04:51+0000","default_status":"closed","hier_extent_left":129,"conference":"DEFCON30","schedule":[{"end":"2022-08-14T01:00:00+00:00","notes":null,"status":"open","begin":"2022-08-13T17:00:00+00:00"},{"notes":null,"status":"open","begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T22:00:00+00:00","notes":null}],"peer_sort_order":20,"name":"Flamingo - Virginia City III (Girls Hack Village)","parent_id":45445,"hotel":"","conference_id":65,"hier_depth":3,"hier_extent_right":130,"id":45400},{"hier_extent_left":125,"conference_id":65,"name":"Flamingo - Twilight Ballroom  (Blacks In Cybersecurity Village)","parent_id":45445,"hier_depth":3,"schedule":[{"status":"open","end":"2022-08-12T23:00:00+00:00","notes":null,"begin":"2022-08-12T17:00:00+00:00"},{"status":"open","notes":null,"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-13T23:00:00+00:00"}],"hier_extent_right":126,"default_status":"closed","conference":"DEFCON30","peer_sort_order":16,"id":45401,"updated_at":"2022-07-31T04:51+0000","hotel":""},{"conference":"DEFCON30","hier_depth":3,"conference_id":65,"parent_id":45436,"id":45402,"default_status":"closed","hotel":"","peer_sort_order":16,"updated_at":"2022-07-31T04:51+0000","hier_extent_left":49,"name":"Caesars Forum - Summit 221->236 (Misinformation Village)","hier_extent_right":50,"schedule":[{"end":"2022-08-14T01:00:00+00:00","notes":null,"status":"open","begin":"2022-08-13T17:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","status":"open","notes":null}]},{"schedule":[{"begin":"2022-08-12T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-13T01:00:00+00:00"},{"notes":null,"end":"2022-08-14T22:00:00+00:00","begin":"2022-08-14T17:00:00+00:00","status":"open"},{"begin":"2022-08-13T17:00:00+00:00","status":"open","end":"2022-08-14T01:00:00+00:00","notes":null}],"peer_sort_order":14,"hier_depth":3,"parent_id":45436,"hier_extent_left":47,"default_status":"closed","conference_id":65,"conference":"DEFCON30","name":"Caesars Forum - Summit 217 (Quantum Village)","updated_at":"2022-07-31T04:51+0000","hier_extent_right":48,"id":45403,"hotel":""},{"default_status":"closed","hier_extent_left":109,"id":45404,"parent_id":45445,"hotel":"","schedule":[{"notes":null,"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T20:00:00+00:00","status":"open"},{"status":"open","notes":null,"end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","status":"open","notes":null,"end":"2022-08-13T01:00:00+00:00"}],"updated_at":"2022-07-31T04:51+0000","conference_id":65,"hier_extent_right":110,"conference":"DEFCON30","hier_depth":3,"peer_sort_order":6,"name":"Flamingo - Mesquite Ballroom  (Red Team Village)"},{"id":45405,"hotel":"","hier_extent_left":107,"parent_id":45445,"hier_extent_right":108,"peer_sort_order":4,"conference":"DEFCON30","schedule":[{"status":"open","end":"2022-08-14T20:00:00+00:00","begin":"2022-08-14T17:00:00+00:00","notes":null},{"status":"open","begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","notes":null},{"status":"open","end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","notes":null}],"name":"Flamingo - Laughlin I,II,III (Bio Hacking Village)","hier_depth":3,"conference_id":65,"default_status":"closed","updated_at":"2022-07-31T04:51+0000"},{"peer_sort_order":20,"name":"Caesars Forum - Summit 224-227 (Policy@DEFCON.org)","hier_extent_left":53,"default_status":"closed","parent_id":45436,"conference":"DEFCON30","id":45406,"hier_depth":3,"updated_at":"2022-07-31T04:51+0000","schedule":[{"status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null,"end":"2022-08-14T01:00:00+00:00"},{"status":"open","end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","notes":null},{"notes":null,"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T22:00:00+00:00"}],"conference_id":65,"hier_extent_right":58,"hotel":""},{"hier_depth":2,"conference_id":65,"default_status":"closed","conference":"DEFCON30","parent_id":45438,"schedule":[{"begin":"2022-08-12T17:00:00+00:00","status":"open","end":"2022-08-13T01:00:00+00:00","notes":null},{"begin":"2022-08-13T17:00:00+00:00","status":"open","notes":null,"end":"2022-08-14T01:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","status":"open","notes":null,"end":"2022-08-14T22:00:00+00:00"}],"id":45407,"name":"LINQ - 3rd flr - Evolution (Rogues Village)","hier_extent_right":169,"hier_extent_left":168,"peer_sort_order":2,"hotel":"","updated_at":"2022-07-31T04:51+0000"},{"id":45408,"parent_id":45434,"hier_extent_right":68,"updated_at":"2022-07-31T04:51+0000","conference_id":65,"schedule":[{"status":"open","end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","notes":null},{"notes":null,"end":"2022-08-14T22:00:00+00:00","begin":"2022-08-14T17:00:00+00:00","status":"open"},{"status":"open","notes":null,"end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00"}],"hier_depth":3,"hier_extent_left":67,"name":"Caesars Forum - Alliance 310, 320 (Retail Hacking Village)","peer_sort_order":4,"default_status":"closed","hotel":"","conference":"DEFCON30"},{"schedule":[{"status":"open","end":"2022-08-14T22:00:00+00:00","begin":"2022-08-14T17:00:00+00:00","notes":null},{"status":"open","notes":null,"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00"},{"notes":null,"status":"open","begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00"}],"hier_extent_right":84,"updated_at":"2022-07-31T04:51+0000","hier_extent_left":83,"name":"Caesars Forum - Academy 411-414, 420 (Packet Hacking Village)","hotel":"","peer_sort_order":8,"id":45409,"parent_id":45433,"default_status":"closed","conference":"DEFCON30","hier_depth":3,"conference_id":65},{"schedule":[{"notes":null,"end":"2022-08-14T02:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T00:00:00+00:00","notes":null,"status":"open"},{"notes":null,"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T21:00:00+00:00"}],"name":"Caesars Forum - Summit 228->236 (AI Village)","default_status":"closed","conference":"DEFCON30","hotel":"","conference_id":65,"updated_at":"2022-07-31T04:51+0000","peer_sort_order":22,"hier_depth":3,"hier_extent_left":59,"parent_id":45436,"hier_extent_right":60,"id":45410},{"parent_id":45445,"name":"Flamingo - Scenic Ballroom (Adversary Village)","peer_sort_order":12,"hier_depth":3,"conference_id":65,"conference":"DEFCON30","updated_at":"2022-07-31T04:51+0000","hier_extent_left":121,"schedule":[{"end":"2022-08-13T00:00:00+00:00","status":"open","notes":null,"begin":"2022-08-12T17:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T22:00:00+00:00","notes":null},{"end":"2022-08-14T00:00:00+00:00","notes":null,"status":"open","begin":"2022-08-13T17:00:00+00:00"}],"hier_extent_right":122,"id":45411,"hotel":"","default_status":"closed"},{"conference_id":65,"updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Summit 203-204, 235 (Tamper Evident Village)","hotel":"","hier_extent_left":39,"default_status":"closed","hier_depth":3,"id":45412,"hier_extent_right":40,"schedule":[{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","notes":null,"status":"open"},{"status":"open","begin":"2022-08-12T17:00:00+00:00","notes":null,"end":"2022-08-13T01:00:00+00:00"},{"end":"2022-08-14T20:00:00+00:00","notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00"}],"peer_sort_order":6,"conference":"DEFCON30","parent_id":45436},{"hier_extent_right":177,"hier_depth":2,"parent_id":45438,"name":"LINQ - BLOQ (SkyTalks 303)","default_status":"closed","conference":"DEFCON30","hotel":"","peer_sort_order":10,"hier_extent_left":176,"id":45413,"updated_at":"2022-07-31T04:51+0000","conference_id":65,"schedule":[{"notes":null,"status":"open","begin":"2022-08-13T15:30:00+00:00","end":"2022-08-14T01:30:00+00:00"},{"status":"open","begin":"2022-08-14T15:30:00+00:00","end":"2022-08-14T21:00:00+00:00","notes":null},{"begin":"2022-08-12T15:30:00+00:00","end":"2022-08-13T01:30:00+00:00","status":"open","notes":null}]},{"id":45414,"name":"Virtual - Payment Village","peer_sort_order":4,"conference":"DEFCON30","default_status":"","schedule":[{"begin":"2022-08-12T17:00:00+00:00","status":"open","end":"2022-08-13T01:00:00+00:00","notes":null},{"notes":null,"end":"2022-08-14T01:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","status":"open","end":"2022-08-14T22:00:00+00:00","notes":null}],"updated_at":"2022-07-31T04:51+0000","hotel":"","hier_extent_left":188,"hier_extent_right":189,"parent_id":45476,"hier_depth":2,"conference_id":65},{"default_status":"closed","conference":"DEFCON30","schedule":[{"end":"2022-08-13T01:00:00+00:00","notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open"},{"notes":null,"end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00","status":"open"},{"end":"2022-08-14T20:00:00+00:00","status":"open","notes":null,"begin":"2022-08-14T17:00:00+00:00"}],"updated_at":"2022-07-31T04:51+0000","id":45415,"parent_id":45438,"hier_extent_right":173,"name":"LINQ - 3rd flr - Social B and C (Recon Village)","peer_sort_order":6,"conference_id":65,"hotel":"","hier_depth":2,"hier_extent_left":172},{"conference":"DEFCON30","hier_extent_left":71,"conference_id":65,"hotel":"","updated_at":"2022-07-31T04:51+0000","schedule":[{"status":"open","end":"2022-08-13T01:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","notes":null},{"end":"2022-08-14T22:00:00+00:00","notes":null,"status":"open","begin":"2022-08-14T17:00:00+00:00"},{"notes":null,"end":"2022-08-14T01:00:00+00:00","status":"open","begin":"2022-08-13T17:00:00+00:00"}],"name":"Caesars Forum - Alliance 313-314, 320 (Voting Machine Village)","default_status":"closed","parent_id":45434,"hier_extent_right":72,"id":45416,"peer_sort_order":8,"hier_depth":3},{"name":"Caesars Forum - Forum 112-117 (Aerospace Village)","default_status":"closed","hotel":"","peer_sort_order":20,"schedule":[{"begin":"2022-08-12T17:00:00+00:00","status":"open","notes":null,"end":"2022-08-13T00:00:00+00:00"},{"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T20:00:00+00:00","notes":null,"status":"open"},{"status":"open","end":"2022-08-14T00:00:00+00:00","notes":null,"begin":"2022-08-13T17:00:00+00:00"}],"hier_extent_right":24,"hier_depth":3,"id":45417,"conference_id":65,"conference":"DEFCON30","parent_id":45435,"hier_extent_left":23,"updated_at":"2022-07-31T04:51+0000"},{"default_status":"closed","name":"LINQ - 3rd flr - Social A (Social Engineering Community)","hier_extent_left":170,"peer_sort_order":4,"hier_depth":2,"hier_extent_right":171,"conference_id":65,"conference":"DEFCON30","hotel":"","schedule":[{"status":"open","begin":"2022-08-13T17:00:00+00:00","notes":null,"end":"2022-08-14T02:00:00+00:00"},{"end":"2022-08-13T02:00:00+00:00","notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open"},{"status":"open","end":"2022-08-14T22:00:00+00:00","notes":null,"begin":"2022-08-14T17:00:00+00:00"}],"updated_at":"2022-07-31T04:51+0000","parent_id":45438,"id":45418},{"parent_id":45436,"hier_extent_right":52,"peer_sort_order":18,"default_status":"closed","hotel":"","schedule":[{"status":"open","end":"2022-08-14T22:00:00+00:00","notes":null,"begin":"2022-08-14T17:00:00+00:00"},{"end":"2022-08-13T01:00:00+00:00","notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open"},{"notes":null,"status":"open","end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00"}],"conference":"DEFCON30","hier_depth":3,"hier_extent_left":51,"conference_id":65,"id":45419,"updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Summit 218-219 (Password Village)"},{"hotel":"","id":45420,"updated_at":"2022-07-31T04:51+0000","parent_id":45435,"name":"Caesars Forum - Forum 124-128 (Car Hacking Village)","default_status":"closed","hier_extent_left":27,"conference_id":65,"peer_sort_order":24,"hier_depth":3,"hier_extent_right":28,"schedule":[{"end":"2022-08-14T00:00:00+00:00","notes":null,"status":"open","begin":"2022-08-13T17:00:00+00:00"},{"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T19:00:00+00:00","notes":null},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T00:00:00+00:00","status":"open","notes":null}],"conference":"DEFCON30"},{"schedule":[{"begin":"2022-08-14T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-14T21:00:00+00:00"},{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T00:00:00+00:00","notes":null,"status":"open"},{"end":"2022-08-13T00:00:00+00:00","status":"open","begin":"2022-08-12T17:00:00+00:00","notes":null}],"default_status":"closed","parent_id":45445,"peer_sort_order":14,"hotel":"","hier_depth":3,"hier_extent_right":124,"updated_at":"2022-07-31T04:51+0000","id":45421,"conference_id":65,"hier_extent_left":123,"name":"Flamingo - Twilight Ballroom  (Appsec Village)","conference":"DEFCON30"},{"parent_id":45440,"schedule":[{"status":"open","notes":null,"end":"2022-08-14T20:00:00+00:00","begin":"2022-08-14T17:00:00+00:00"},{"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T01:00:00+00:00","status":"open","notes":null},{"end":"2022-08-13T01:00:00+00:00","status":"open","notes":null,"begin":"2022-08-12T17:00:00+00:00"}],"id":45422,"peer_sort_order":6,"conference_id":65,"default_status":"closed","hier_depth":3,"hier_extent_left":143,"updated_at":"2022-07-31T04:51+0000","hotel":"","hier_extent_right":144,"conference":"DEFCON30","name":"Flamingo - Exec Conf Ctr - Red Rock VI, VII, VII (Hardware Hacking Village)"},{"conference_id":65,"updated_at":"2022-07-31T04:51+0000","id":45423,"hier_extent_left":139,"hier_extent_right":140,"parent_id":45440,"name":"Flamingo - Exec Conf Ctr - Lake Meade and Valley of Fire (Data Duplication Village)","peer_sort_order":2,"hier_depth":3,"default_status":"closed","conference":"DEFCON30","schedule":[{"notes":null,"status":"open","end":"2022-08-14T00:00:00+00:00","begin":"2022-08-13T17:00:00+00:00"},{"status":"open","end":"2022-08-13T00:00:00+00:00","begin":"2022-08-12T17:00:00+00:00","notes":null},{"end":"2022-08-14T18:00:00+00:00","status":"open","begin":"2022-08-14T17:00:00+00:00","notes":null},{"status":"open","begin":"2022-08-11T23:00:00+00:00","end":"2022-08-12T02:00:00+00:00","notes":null}],"hotel":""},{"parent_id":45434,"updated_at":"2022-07-31T04:51+0000","schedule":[{"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","notes":null},{"end":"2022-08-14T01:00:00+00:00","status":"open","notes":null,"begin":"2022-08-13T17:00:00+00:00"},{"notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open","end":"2022-08-13T01:00:00+00:00"}],"id":45424,"hier_extent_left":69,"name":"Caesars Forum - Alliance 311, 320 (IOT Village)","conference_id":65,"hier_extent_right":70,"default_status":"closed","hotel":"","peer_sort_order":6,"hier_depth":3,"conference":"DEFCON30"},{"updated_at":"2022-07-31T04:51+0000","conference":"DEFCON30","id":45425,"conference_id":65,"hotel":"","name":"Flamingo - Exec Conf Ctr - Red Rock I, II, III, IV, V (Solder Skills Village)","peer_sort_order":4,"default_status":"closed","hier_depth":3,"hier_extent_left":141,"parent_id":45440,"schedule":[{"begin":"2022-08-14T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-14T20:00:00+00:00"},{"begin":"2022-08-13T17:00:00+00:00","notes":null,"status":"open","end":"2022-08-14T01:00:00+00:00"},{"notes":null,"begin":"2022-08-12T17:00:00+00:00","status":"open","end":"2022-08-13T01:00:00+00:00"}],"hier_extent_right":142},{"id":45426,"schedule":[{"begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T19:00:00+00:00","notes":null,"status":"open"},{"status":"open","end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T16:00:00+00:00","notes":null},{"begin":"2022-08-12T16:00:00+00:00","status":"open","end":"2022-08-13T01:00:00+00:00","notes":null}],"conference":"DEFCON30","conference_id":65,"parent_id":45445,"name":"Flamingo - Virginia City I, II (Ham Radio Village)","default_status":"closed","hier_depth":3,"updated_at":"2022-07-31T04:51+0000","hotel":"","hier_extent_right":128,"hier_extent_left":127,"peer_sort_order":18},{"hier_extent_left":105,"name":"Flamingo - Eldarado Ballroom  (Radio Frequency Village)","updated_at":"2022-07-31T04:51+0000","peer_sort_order":2,"conference":"DEFCON30","hier_extent_right":106,"schedule":[{"end":"2022-08-14T22:00:00+00:00","begin":"2022-08-14T17:00:00+00:00","notes":null,"status":"open"},{"status":"open","notes":null,"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00"},{"begin":"2022-08-13T17:00:00+00:00","status":"open","end":"2022-08-14T01:00:00+00:00","notes":null}],"parent_id":45445,"hotel":"","default_status":"closed","hier_depth":3,"conference_id":65,"id":45427},{"hier_extent_left":35,"schedule":[{"begin":"2022-08-13T17:00:00+00:00","status":"open","end":"2022-08-14T01:00:00+00:00","notes":null},{"status":"open","notes":null,"end":"2022-08-14T22:00:00+00:00","begin":"2022-08-14T17:00:00+00:00"},{"status":"open","end":"2022-08-13T01:00:00+00:00","notes":null,"begin":"2022-08-12T17:00:00+00:00"}],"hier_depth":3,"conference":"DEFCON30","name":"Caesars Forum - Summit 201-202 (Physical Security Village)","parent_id":45436,"peer_sort_order":2,"hotel":"","id":45428,"updated_at":"2022-07-31T04:51+0000","default_status":"closed","conference_id":65,"hier_extent_right":36},{"peer_sort_order":22,"id":45429,"schedule":[{"status":"open","end":"2022-08-14T01:00:00+00:00","notes":null,"begin":"2022-08-13T17:00:00+00:00"},{"status":"open","begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","notes":null},{"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T22:00:00+00:00","notes":null}],"hier_depth":3,"hier_extent_right":132,"hier_extent_left":131,"conference":"DEFCON30","name":"Flamingo - Vista Ballroom  (Crypto Privacy Village)","parent_id":45445,"conference_id":65,"updated_at":"2022-07-31T04:51+0000","hotel":"","default_status":"closed"},{"hier_extent_left":73,"parent_id":45434,"default_status":"closed","conference":"DEFCON30","peer_sort_order":10,"conference_id":65,"id":45430,"hotel":"","schedule":[{"status":"open","notes":null,"end":"2022-08-14T01:00:00+00:00","begin":"2022-08-13T17:00:00+00:00"},{"status":"open","end":"2022-08-14T22:00:00+00:00","notes":null,"begin":"2022-08-14T17:00:00+00:00"},{"begin":"2022-08-12T17:00:00+00:00","end":"2022-08-13T01:00:00+00:00","notes":null,"status":"open"}],"hier_depth":3,"hier_extent_right":74,"updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Alliance 314 - 319 (ICS Village)"},{"id":45431,"conference":"DEFCON30","name":"Flamingo - Scenic Ballroom  (Cloud Village)","conference_id":65,"peer_sort_order":10,"hier_extent_left":119,"schedule":[{"notes":null,"status":"open","end":"2022-08-13T00:00:00+00:00","begin":"2022-08-12T17:00:00+00:00"},{"status":"open","begin":"2022-08-14T17:00:00+00:00","end":"2022-08-14T20:00:00+00:00","notes":null},{"notes":null,"begin":"2022-08-13T17:00:00+00:00","end":"2022-08-14T00:00:00+00:00","status":"open"}],"hotel":"","hier_extent_right":120,"default_status":"closed","parent_id":45445,"hier_depth":3,"updated_at":"2022-07-31T04:51+0000"},{"name":"Caesars Forum","hotel":"","hier_extent_right":102,"peer_sort_order":2,"parent_id":0,"id":45432,"hier_depth":1,"default_status":"","hier_extent_left":1,"conference":"DEFCON30","conference_id":65,"schedule":[],"updated_at":"2022-07-31T04:51+0000"},{"updated_at":"2022-07-31T04:51+0000","peer_sort_order":10,"name":"Caesars Forum - Academy","id":45433,"hier_extent_right":85,"parent_id":45432,"hier_depth":2,"schedule":[],"conference":"DEFCON30","hier_extent_left":76,"hotel":"","conference_id":65,"default_status":""},{"schedule":[],"parent_id":45432,"conference_id":65,"hier_extent_right":75,"hier_extent_left":64,"updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Alliance","hier_depth":2,"peer_sort_order":8,"hotel":"","default_status":"","conference":"DEFCON30","id":45434},{"peer_sort_order":4,"id":45435,"parent_id":45432,"conference":"DEFCON30","schedule":[],"hier_extent_right":33,"default_status":"","hotel":"","hier_extent_left":4,"updated_at":"2022-07-31T04:51+0000","conference_id":65,"hier_depth":2,"name":"Caesars Forum - Forum"},{"default_status":"","id":45436,"hier_extent_right":63,"hotel":"","conference_id":65,"conference":"DEFCON30","parent_id":45432,"peer_sort_order":6,"hier_depth":2,"hier_extent_left":34,"schedule":[],"name":"Caesars Forum - Summit","updated_at":"2022-07-31T04:51+0000"},{"hier_depth":1,"default_status":"","name":"Flamingo","updated_at":"2022-07-31T04:51+0000","conference":"DEFCON30","schedule":[],"hier_extent_right":148,"peer_sort_order":4,"hotel":"","hier_extent_left":103,"id":45437,"conference_id":65,"parent_id":0},{"hier_extent_right":180,"hier_extent_left":167,"peer_sort_order":8,"hier_depth":1,"conference_id":65,"parent_id":0,"default_status":"","name":"LINQ","id":45438,"conference":"DEFCON30","hotel":"","updated_at":"2022-07-31T04:51+0000","schedule":[]},{"name":"Harrah's Corporate Convention Center","parent_id":0,"default_status":"","id":45439,"conference_id":65,"hier_extent_left":149,"conference":"DEFCON30","hotel":"","schedule":[],"hier_depth":1,"updated_at":"2022-07-31T04:51+0000","peer_sort_order":6,"hier_extent_right":166},{"default_status":"","hotel":"","conference":"DEFCON30","peer_sort_order":4,"parent_id":45437,"id":45440,"hier_extent_left":138,"hier_extent_right":145,"conference_id":65,"name":"Flamingo - Exec Conf Ctr","schedule":[],"hier_depth":2,"updated_at":"2022-07-31T04:51+0000"},{"peer_sort_order":12,"schedule":[],"hier_extent_left":86,"hier_extent_right":101,"id":45441,"hotel":"","hier_depth":2,"parent_id":45432,"default_status":"","updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Boardrooms","conference":"DEFCON30","conference_id":65},{"schedule":[],"hier_depth":3,"parent_id":45441,"default_status":"","hier_extent_left":89,"name":"Caesars Forum - Caucus Boardroom (Demo Labs)","conference":"DEFCON30","id":45442,"conference_id":65,"peer_sort_order":4,"hotel":"","hier_extent_right":90,"updated_at":"2022-07-31T04:51+0000"},{"schedule":[],"hotel":"","conference":"DEFCON30","id":45443,"updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Council Boardroom (Demo Labs)","hier_extent_left":95,"hier_extent_right":96,"peer_sort_order":10,"hier_depth":3,"conference_id":65,"default_status":"","parent_id":45441},{"hier_extent_right":94,"hotel":"","parent_id":45441,"hier_depth":3,"conference_id":65,"default_status":"","conference":"DEFCON30","peer_sort_order":8,"schedule":[],"updated_at":"2022-07-31T04:51+0000","id":45444,"hier_extent_left":93,"name":"Caesars Forum - Committee Boardroom (Demo Labs)"},{"conference":"DEFCON30","default_status":"","hier_extent_left":104,"hotel":"","peer_sort_order":2,"conference_id":65,"schedule":[],"name":"Flamingo - Corp Conv Ctr","parent_id":45437,"hier_depth":2,"updated_at":"2022-07-31T04:51+0000","id":45445,"hier_extent_right":137},{"updated_at":"2022-07-31T04:51+0000","hier_extent_left":61,"conference":"DEFCON30","peer_sort_order":24,"id":45446,"conference_id":65,"name":"Caesars Forum - Summit 229 (Merch)","schedule":[],"hier_depth":3,"hotel":"","default_status":"","hier_extent_right":62,"parent_id":45436},{"conference":"DEFCON30","hier_extent_right":6,"default_status":"","hier_depth":3,"conference_id":65,"parent_id":45435,"hotel":"","updated_at":"2022-07-31T04:51+0000","schedule":[],"id":45447,"peer_sort_order":2,"name":"Caesars Forum - Forum 103 (Human Registration)","hier_extent_left":5},{"id":45448,"schedule":[],"updated_at":"2022-07-31T04:51+0000","hotel":"","name":"Caesars Forum - Forum 130-132, 134 (Vendors)","hier_extent_right":30,"default_status":"","conference_id":65,"hier_extent_left":29,"conference":"DEFCON30","peer_sort_order":26,"parent_id":45435,"hier_depth":3},{"hier_depth":2,"conference":"DEFCON30","hotel":"","conference_id":65,"peer_sort_order":8,"default_status":"","id":45449,"hier_extent_right":175,"updated_at":"2022-07-31T04:51+0000","hier_extent_left":174,"schedule":[],"parent_id":45438,"name":"LINQ - 3rd flr - Chillout"},{"schedule":[],"parent_id":45406,"peer_sort_order":2,"updated_at":"2022-07-31T04:51+0000","id":45464,"conference":"DEFCON30","hier_depth":4,"conference_id":65,"hotel":"","hier_extent_left":54,"hier_extent_right":55,"name":"Caesars Forum - Summit 224-225 - Policy Collaboratorium","default_status":""},{"schedule":[],"default_status":"","conference":"DEFCON30","peer_sort_order":4,"hier_depth":4,"id":45465,"name":"Caesars Forum - Summit 226-227 - Policy Roundtable","conference_id":65,"updated_at":"2022-07-31T04:51+0000","hier_extent_left":56,"parent_id":45406,"hotel":"","hier_extent_right":57},{"schedule":[],"peer_sort_order":10,"id":45466,"hotel":"","conference_id":65,"conference":"DEFCON30","default_status":"closed","hier_extent_left":43,"name":"Caesars Forum - Summit 211-213 (Teacher's Lounge)","hier_depth":3,"hier_extent_right":44,"updated_at":"2022-07-31T04:51+0000","parent_id":45436},{"conference":"DEFCON30","hier_depth":3,"hier_extent_left":45,"parent_id":45436,"hotel":"","peer_sort_order":12,"default_status":"","schedule":[],"id":45467,"conference_id":65,"name":"Caesars Forum - Summit 214-216 (CTF Area)","updated_at":"2022-07-31T04:51+0000","hier_extent_right":46},{"hier_extent_left":41,"conference":"DEFCON30","conference_id":65,"schedule":[],"default_status":"closed","hier_extent_right":42,"peer_sort_order":8,"parent_id":45436,"hotel":"","hier_depth":3,"updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Summit 206-208, 238, 237, 234 (Contest Area)","id":45468},{"peer_sort_order":2,"conference":"DEFCON30","conference_id":65,"schedule":[],"hier_depth":2,"hier_extent_right":3,"hier_extent_left":2,"parent_id":45432,"hotel":"","default_status":"","updated_at":"2022-07-31T04:51+0000","name":"Caesars Forum - Skybridge Entrance","id":45469},{"hier_extent_right":113,"schedule":[],"id":45470,"hotel":"","default_status":"","conference":"DEFCON30","hier_extent_left":112,"hier_depth":4,"peer_sort_order":2,"parent_id":45398,"conference_id":65,"updated_at":"2022-07-31T04:51+0000","name":"Flamingo - Savoy Ballroom - BTV Main Stage (In-person)"},{"updated_at":"2022-07-31T04:51+0000","peer_sort_order":4,"hier_extent_right":115,"hier_extent_left":114,"hotel":"","conference_id":65,"name":"Flamingo - Savoy Ballroom - BTV Project Obsidian: Track 0x41 (In-person)","id":45471,"schedule":[],"default_status":"","conference":"DEFCON30","hier_depth":4,"parent_id":45398},{"parent_id":45398,"hotel":"","schedule":[],"hier_extent_right":117,"hier_depth":4,"id":45472,"conference_id":65,"default_status":"","updated_at":"2022-07-31T04:51+0000","peer_sort_order":6,"hier_extent_left":116,"conference":"DEFCON30","name":"Flamingo - Savoy Ballroom - BTV Project Obsidian: Track 0x42 (In-person)"},{"peer_sort_order":2,"hier_depth":3,"default_status":"","conference":"DEFCON30","hier_extent_right":184,"schedule":[],"hotel":"","updated_at":"2022-07-31T04:51+0000","hier_extent_left":183,"id":45473,"conference_id":65,"name":"Virtual - BlueTeam Village - Talks","parent_id":45475},{"conference_id":65,"hier_extent_left":185,"schedule":[],"conference":"DEFCON30","default_status":"","updated_at":"2022-07-31T04:51+0000","hier_depth":3,"parent_id":45475,"hotel":"","hier_extent_right":186,"peer_sort_order":4,"name":"Virtual - BlueTeam Village - Workshops","id":45474},{"hier_extent_left":182,"id":45475,"conference_id":65,"default_status":"","conference":"DEFCON30","hier_depth":2,"hier_extent_right":187,"peer_sort_order":2,"parent_id":45476,"name":"Virtual - BlueTeam Village","updated_at":"2022-07-31T04:51+0000","hotel":"","schedule":[]},{"updated_at":"2022-07-31T04:51+0000","default_status":"","parent_id":0,"hier_extent_left":181,"peer_sort_order":10,"conference":"DEFCON30","name":"Virtual","hier_extent_right":190,"conference_id":65,"schedule":[],"id":45476,"hotel":"","hier_depth":1},{"schedule":[],"hier_extent_left":133,"peer_sort_order":24,"id":45477,"updated_at":"2022-07-31T04:51+0000","hotel":"","hier_depth":3,"default_status":"closed","parent_id":45445,"hier_extent_right":134,"conference":"DEFCON30","conference_id":65,"name":"Flamingo - Carson City (Chillout)"},{"hier_extent_right":136,"peer_sort_order":26,"conference_id":65,"conference":"DEFCON30","schedule":[],"parent_id":45445,"name":"Flamingo - Carson City (Memorial Room)","hotel":"","hier_depth":3,"id":45478,"updated_at":"2022-07-31T04:51+0000","hier_extent_left":135,"default_status":""},{"updated_at":"2022-07-31T04:51+0000","conference_id":65,"hier_extent_right":151,"parent_id":45439,"hotel":"","hier_extent_left":150,"schedule":[],"peer_sort_order":2,"hier_depth":2,"conference":"DEFCON30","default_status":"","name":"Harrah's - Silver (Workshops)","id":45480},{"default_status":"","updated_at":"2022-07-31T04:51+0000","conference":"DEFCON30","conference_id":65,"name":"Harrah's - Lake Tahoe (Workshops)","id":45481,"hier_extent_left":154,"parent_id":45439,"hier_extent_right":155,"hotel":"","peer_sort_order":6,"schedule":[],"hier_depth":2},{"hier_extent_right":159,"conference_id":65,"hier_extent_left":158,"name":"Harrah's - Reno (Workshops)","id":45482,"schedule":[],"peer_sort_order":10,"default_status":"","parent_id":45439,"hier_depth":2,"conference":"DEFCON30","updated_at":"2022-07-31T04:51+0000","hotel":""},{"schedule":[],"id":45483,"hier_depth":2,"hotel":"","hier_extent_right":153,"conference_id":65,"conference":"DEFCON30","updated_at":"2022-07-31T04:51+0000","parent_id":45439,"default_status":"","name":"Harrah's - Copper (Workshops)","peer_sort_order":4,"hier_extent_left":152},{"peer_sort_order":8,"name":"Harrah's - Elko (Workshops)","schedule":[],"hier_extent_right":157,"hotel":"","updated_at":"2022-07-31T04:51+0000","parent_id":45439,"hier_depth":2,"id":45484,"hier_extent_left":156,"default_status":"","conference_id":65,"conference":"DEFCON30"},{"peer_sort_order":12,"id":45485,"hier_extent_right":161,"default_status":"","conference_id":65,"hier_extent_left":160,"name":"Harrah's - Goldfield + Tonopah (Workshops)","hotel":"","conference":"DEFCON30","schedule":[],"hier_depth":2,"updated_at":"2022-07-31T04:51+0000","parent_id":45439},{"peer_sort_order":14,"hier_extent_left":162,"updated_at":"2022-07-31T04:51+0000","hier_depth":2,"conference_id":65,"hier_extent_right":163,"name":"Harrah's - Ely (Workshops)","hotel":"","id":45486,"parent_id":45439,"schedule":[],"default_status":"","conference":"DEFCON30"}]
    """#

    let decoder = JSONDecoder()
    decoder.dateDecodingStrategy = .iso8601
    return try? decoder.decode([HTLocationModel].self, from: Data(jsonData.utf8))
}
